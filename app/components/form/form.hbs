<form method="{{method}}" class="form" id="{{id}}" action="{{action}}">
	{{#each inputs}}
		<div class="form__input">
			<div class="{{inputId}}">
			    <input id="{{inputId}}" value="{{value}}" class="inputMaterial" type="{{type}}" name="{{inputId}}" {{#if required}}required{{/if}} {{#if minlength}}
			    minlength="{{minlength}}" {{/if}} {{#if maxlength}} maxlength="{{maxlength}}" {{/if}} >
			    <span class="bar"></span>
			    <label for="{{inputId}}">{{label}}</label>
	   		</div>
		</div>
	{{/each}}
	{{#each selects}}
		<div class="form__select">
			<div class="{{selectId}}">
				<select id="{{selectId}}" name="{{selectId}}" {{#if required}}required{{/if}}>
				  {{#each options}}
				    <option value="{{#unless title}}{{value}}{{/unless}}" name="{{value}}" {{#if title}}disabled selected="selected"{{/if}}>{{value}}</option>
				    <label class="{{selectId}}" for="{{selectId}}">{{value}}</label>
				  {{/each}}
				</select>
			</div>
		</div>
	{{/each}}
	{{#each textareas}}
		<div class="form__textarea">
			<div class="{{textareaId}}">
				<textarea name="{{textareaId}}" class="inputMaterial" id="{{textareaId}}" cols="{{cols}}" rows="{{rows}}" {{#if required}}required{{/if}}></textarea>
				<span class="bar"></span>
			    <label for="{{textareaId}}">{{label}}</label>
			</div>
		</div>
	{{/each}}
	<input type="submit">
</form>
<script>
    // validate the form when it is submitted
    var validator = $("#{{id}}").validate({
    	debug: true,
    	ignore: [],
        errorPlacement: function(error, element) {
            // Append error within linked label
            $( element )
                .closest( "form" )
                    .find( "div[class='" + element.attr( "id" ) + "']" )
                        .append( error );   
        },
        errorElement: "span",
        success: "valid"
  		// submitHandler: function() { alert("Submitted!") }
    });
	$('select[name="mySelect"]').on('change', function() { // fires when the value changes
	    $(this).valid(); // trigger validation on hidden select
	});
	$(".cancel").click(function() {
	    validator.resetForm();
    });
</script>